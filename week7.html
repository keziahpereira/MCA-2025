<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Week 7 Music as Sound</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="Index-2.html"><button>Introduction</button></a>
      <a href="week1mca.html"><button>Week1</button></a>
      <a href="week2mca.html"><button>Week2</button></a>
      <a href="week3.html"><button>Week3</button></a>
      <a href="week4.html"><button>Week4</button></a>
      <a href="week5.html"><button>Week5</button></a>

      <a href="week7.html"><button class="active">Week7</button></a>
      <a href="Week8.html"><button>Week8</button></a>
      <a href="week9.html"><button>Week9</button></a>
      <a href="week10.html"><button>Week10</button></a>
    </aside>

    <!-- Main Content -->
    <main class="content">
      <header>
        <img src="headerimage.png" alt="Music Curation & Analytics Banner" />
        <h1>Week 7 — Music as Sound</h1>
      </header>

      <section class="card">
        <h2></h2>
        <p>
          For this week, I updated my MEI metadata by adding a genre and a Creative
          Commons licence. I chose <strong>Rock</strong> as the genre because
          <em>Walk of Life</em> is a classic rock song by Dire Straits.
        </p>
      
        <p>
          For the licensing, I added a <strong>Creative Commons BY-NC 4.0</strong>
          licence. I chose this because I am only using the score for coursework and
          learning, not for commercial work. Since Dire Straits’ music isn’t
          available to download freely and is fully copyrighted, I wanted to make it
          clear that my MEI file is strictly for <strong>educational purposes</strong>.
          The BY-NC licence allows others to view and study the file, while preventing
          commercial use, which helps respect the original copyright.
        </p>
      </section>
      

      <!-- Verovio Section -->
      <section class="card">
        <h2>My Verovio Example</h2>

        <div class="verovio-container">
          <div id="app">Verovio is loading...</div>
        </div>

        <script type="module">
  import 'https://www.verovio.org/javascript/app/verovio-app.js';

  const options = {
    defaultView: 'responsive',
    defaultZoom: 3,
    enableResponsive: true,
    enableDocument: true
  };

  // Path to your MEI file
  const file = "week5.mei";

  const app = new Verovio.App(document.getElementById("app"), options);

  fetch(file)
    .then(response => {
      if (!response.ok) {
        throw new Error("MEI file not found");
      }
      return response.text();
    })
    .then(text => {
      app.loadData(text);
      console.log("MEI loaded successfully.");
    })
    .catch(error => {
      console.error("Error loading MEI:", error);

      // Replace the Verovio display with a message + download button
      document.getElementById("app").innerHTML = `
        <p style="color:red; font-weight:bold;">
          Unable to load the MEI file: <code>${file}</code>
        </p>
        <p>Please download it manually:</p>
        <a href="${file}" download
           style="
             display:inline-block;
             padding:10px 15px;
             background:#007bff;
             color:white;
             border-radius:5px;
             text-decoration:none;
           ">
          Download MEI File
        </a>
      `;
    });
</script>

      </section>

      <a href="Week8.html" class="next-link">Week 8 ></a>
    </main>
  </div>

</body>
</html>
